---
layout: page
title: "Search Results"
---

<div class="container mt-4">
  <h2>Search Results</h2>
  <ul id="search-results"></ul>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js"></script>
<script>
  // Fetch search.json and run lunr
  fetch('/search.json')
    .then(res => res.json())
    .then(docs => {
      const params = new URLSearchParams(window.location.search);
      const query = params.get('query') || '';

      const idx = lunr(function () {
        this.ref('url');
        this.field('title');
        this.field('content');
        docs.forEach(doc => this.add(doc));
      });

      const results = idx.search(query);
      const resultsList = document.getElementById('search-results');
      if (results.length === 0) {
        resultsList.innerHTML = '<li>No results found</li>';
        return;
      }

      results.forEach(result => {
        const doc = docs.find(d => d.url === result.ref);
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = doc.url;
        a.textContent = doc.title;
        li.appendChild(a);
        resultsList.appendChild(li);
      });
    });
</script>
